<!DOCTYPE html>
<html lang="vi" xmlns:th="http://www.thymeleaf.org">
<head>
    <meta charset="UTF-8">
    <title>Import B√†i ki·ªÉm tra - Admin</title>
    <link rel="stylesheet" th:href="@{/styles.css}">
</head>
<body>
<div class="layout">
    <aside class="sidebar" style="background: linear-gradient(180deg, #1F2937 0%, #111827 100%);">
        <div class="logo" style="color: #F59E0B; border-bottom: 2px solid #F59E0B; padding-bottom: 15px; margin-bottom: 20px;">
            üëë ADMIN PANEL
        </div>
        <nav>
            <a th:href="@{/admin}" style="color: #E5E7EB;">
                üìä Dashboard
            </a>
            <hr style="border-color: #374151; margin: 15px 0;">
            <p class="menu-title" style="color: #9CA3AF; font-size: 12px; font-weight: 600; text-transform: uppercase; letter-spacing: 1px;">Qu·∫£n l√Ω d·ªØ li·ªáu</p>
            <a th:href="@{/admin/import-lessons}" style="color: #E5E7EB;">
                üìö Import B√†i h·ªçc
            </a>
            <a th:href="@{/admin/import-tests}" class="active" style="background: #F59E0B; color: #1F2937; font-weight: 700;">
                üìù Import B√†i ki·ªÉm tra
            </a>
            <hr style="border-color: #374151; margin: 15px 0;">
            <p class="menu-title" style="color: #9CA3AF; font-size: 12px; font-weight: 600; text-transform: uppercase; letter-spacing: 1px;">Qu·∫£n l√Ω ng∆∞·ªùi d√πng</p>
            <a th:href="@{/admin/rewards}" style="color: #E5E7EB;">
                üéÅ Qu·∫£n l√Ω Ph·∫ßn th∆∞·ªüng
            </a>
            <a th:href="@{/admin/vip-avatar}" style="color: #E5E7EB;">
                ‚≠ê T·∫∑ng Avatar VIP
            </a>
            <hr style="border-color: #374151; margin: 20px 0;">
            <a th:href="@{/dashboard}" style="color: #60A5FA; border: 1px solid #3B82F6; border-radius: 8px; padding: 10px; text-align: center; margin-top: 10px;">
                üéì V·ªÅ trang h·ªçc sinh
            </a>
            <a th:href="@{/logout}" style="color: #FCA5A5; margin-top: 10px;">
                üö™ ƒêƒÉng xu·∫•t
            </a>
        </nav>
    </aside>

    <main class="main">
        <div style="margin-bottom: 30px;">
            <h1>üìù Import B√†i ki·ªÉm tra</h1>
            <p>Upload file JSON ƒë·ªÉ import b√†i ki·ªÉm tra v√† c√¢u h·ªèi v√†o h·ªá th·ªëng</p>
        </div>

        <div th:if="${success}" class="panel" style="background: #D1FAE5; border: 2px solid #10B981; margin-bottom: 20px;">
            <strong>‚úÖ</strong> <span th:text="${success}"></span>
        </div>

        <div th:if="${warning}" class="panel" style="background: #FEF3C7; border: 2px solid #F59E0B; margin-bottom: 20px;">
            <strong>‚ö†Ô∏è</strong> <span th:text="${warning}"></span>
        </div>

        <div th:if="${error}" class="panel" style="background: #FEE2E2; border: 2px solid #EF4444; margin-bottom: 20px;">
            <strong>‚ùå</strong> <span th:text="${error}"></span>
        </div>

        <div class="panel">
            <h3>Import t·ª´ file JSON</h3>
            <p>Ch·ªçn file JSON ch·ª©a d·ªØ li·ªáu b√†i ki·ªÉm tra v√† c√¢u h·ªèi ƒë·ªÉ import v√†o h·ªá th·ªëng.</p>
            <div style="background: #E0F2FE; border: 2px solid #3B82F6; border-radius: 8px; padding: 15px; margin: 15px 0;">
                <strong>üí° L∆∞u √Ω:</strong>
                <ul style="margin: 10px 0 0 20px; color: #1E40AF;">
                    <li>D·ªØ li·ªáu sau khi import s·∫Ω <strong>c√≥ s·∫µn cho T·∫§T C·∫¢ h·ªçc sinh</strong> trong h·ªá th·ªëng</li>
                    <li>ƒê·∫£m b·∫£o <code>level</code> trong JSON kh·ªõp v·ªõi l·ªõp h·ªçc (GRADE1, GRADE2, GRADE3, GRADE4, GRADE5)</li>
                    <li>H·ªçc sinh s·∫Ω th·∫•y b√†i ki·ªÉm tra ·ªü trang <strong>B√†i ki·ªÉm tra</strong> n·∫øu level kh·ªõp v·ªõi l·ªõp c·ªßa h·ªç</li>
                </ul>
            </div>
            
            <form method="post" th:action="@{/admin/import-tests}" enctype="multipart/form-data" style="margin-top: 20px;">
                <label style="display: block; margin-bottom: 15px;">
                    <strong>Ch·ªçn file JSON:</strong>
                    <input type="file" name="file" accept=".json" required 
                           style="margin-top: 8px; padding: 10px; width: 100%; border: 2px solid #E5E7EB; border-radius: 8px;">
                </label>
                <button type="submit" class="btn-main big" style="background: #F59E0B; border-color: #F59E0B;">üì• Import B√†i ki·ªÉm tra</button>
            </form>
        </div>

        <div class="panel" style="background: #FEF3C7; border: 2px solid #F59E0B;">
            <h3 style="color: #92400E;">üìã Format JSON m·∫´u:</h3>
            <pre style="background: white; padding: 15px; border-radius: 8px; overflow-x: auto; font-size: 13px;"><code>{
  "tests": [
    {
      "title": "B√†i ki·ªÉm tra 1",
      "description": "M√¥ t·∫£ b√†i ki·ªÉm tra",
      "level": "GRADE3",
      "afterLessons": 5,
      "passingScore": 70,
      "heartsLostOnFail": 1,
      "xpReward": 20,
      "gemsReward": 10,
      "instructions": "H∆∞·ªõng d·∫´n l√†m b√†i",
      "questions": [
        {
          "question": "What is the capital of France?",
          "optionA": "London",
          "optionB": "Paris",
          "optionC": "Berlin",
          "optionD": "Madrid",
          "correctOption": "B",
          "explanation": "Paris is the capital of France"
        }
      ]
    }
  ]
}</code></pre>
        </div>
    </main>
</div>
</body>
</html>

