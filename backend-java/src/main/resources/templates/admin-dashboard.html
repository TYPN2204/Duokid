<!DOCTYPE html>
<html lang="vi" xmlns:th="http://www.thymeleaf.org">
<head>
    <meta charset="UTF-8">
    <title>Admin Dashboard - Kid Nani</title>
    <link rel="stylesheet" th:href="@{/styles.css}">
</head>
<body>
<div class="layout">
    <aside class="sidebar" style="background: linear-gradient(180deg, #1F2937 0%, #111827 100%);">
        <div class="logo" style="color: #F59E0B; border-bottom: 2px solid #F59E0B; padding-bottom: 15px; margin-bottom: 20px;">
            ğŸ‘‘ ADMIN PANEL
        </div>
        <nav>
            <a th:href="@{/admin}" class="active" style="background: #F59E0B; color: #1F2937; font-weight: 700;">
                ğŸ“Š Dashboard
            </a>
            <hr style="border-color: #374151; margin: 15px 0;">
            <p class="menu-title" style="color: #9CA3AF; font-size: 12px; font-weight: 600; text-transform: uppercase; letter-spacing: 1px;">Quáº£n lÃ½ dá»¯ liá»‡u</p>
            <a th:href="@{/admin/import}" style="color: #E5E7EB; font-weight: 600;">
                ğŸ“¥ Import Dá»¯ liá»‡u
            </a>
            <a th:href="@{/admin/import-lessons}" style="color: #E5E7EB;">
                ğŸ“š Import BÃ i há»c
            </a>
            <a th:href="@{/admin/import-tests}" style="color: #E5E7EB;">
                ğŸ“ Import BÃ i kiá»ƒm tra
            </a>
            <hr style="border-color: #374151; margin: 15px 0;">
            <p class="menu-title" style="color: #9CA3AF; font-size: 12px; font-weight: 600; text-transform: uppercase; letter-spacing: 1px;">Quáº£n lÃ½ ngÆ°á»i dÃ¹ng</p>
            <a th:href="@{/admin/rewards}" style="color: #E5E7EB;">
                ğŸ Quáº£n lÃ½ Pháº§n thÆ°á»Ÿng
            </a>
            <a th:href="@{/admin/vip-avatar}" style="color: #E5E7EB;">
                â­ Táº·ng Avatar VIP
            </a>
            <hr style="border-color: #374151; margin: 20px 0;">
            <a th:href="@{/dashboard}" style="color: #60A5FA; border: 1px solid #3B82F6; border-radius: 8px; padding: 10px; text-align: center; margin-top: 10px;">
                ğŸ“ Vá» trang há»c sinh
            </a>
            <a th:href="@{/logout}" style="color: #FCA5A5; margin-top: 10px;">
                ğŸšª ÄÄƒng xuáº¥t
            </a>
        </nav>
    </aside>

    <main class="main" style="background: #F9FAFB;">
        <div style="margin-bottom: 30px; padding: 20px; background: white; border-radius: 16px; box-shadow: 0 2px 8px rgba(0,0,0,0.1);">
            <div style="display: flex; justify-content: space-between; align-items: center;">
                <div>
                    <h1 style="margin: 0 0 8px 0; color: #1F2937;">ğŸ“Š Admin Dashboard</h1>
                    <p style="margin: 0; color: #6B7280;">Quáº£n lÃ½ há»‡ thá»‘ng há»c tiáº¿ng Anh duokid</p>
                </div>
                <div style="text-align: right;">
                    <p style="margin: 0; color: #6B7280; font-size: 14px;">Xin chÃ o, <strong th:text="${user.displayName}">Admin</strong></p>
                    <p style="margin: 4px 0 0 0; color: #9CA3AF; font-size: 12px;" th:text="${user.email}">admin@duokid.com</p>
                </div>
            </div>
        </div>

        <!-- Statistics Cards -->
        <div style="display: grid; grid-template-columns: repeat(auto-fit, minmax(250px, 1fr)); gap: 20px; margin-bottom: 30px;">
            <div class="panel" style="background: linear-gradient(135deg, #E0F2FE 0%, #B3E5FC 100%); border: 3px solid #3B82F6; cursor: pointer; transition: transform 0.2s;" onclick="window.location.href='/admin/import-lessons'">
                <div style="display: flex; justify-content: space-between; align-items: center;">
                    <div>
                        <div style="font-size: 48px; margin-bottom: 10px;">ğŸ“š</div>
                        <h3 style="margin: 0 0 5px 0; color: #1F2937; font-size: 16px;">BÃ i há»c</h3>
                        <p style="font-size: 32px; font-weight: 900; color: #3B82F6; margin: 0;">
                            <span th:text="${totalLessons}">0</span>
                        </p>
                    </div>
                    <div style="font-size: 24px; color: #3B82F6;">â†’</div>
                </div>
            </div>

            <div class="panel" style="background: linear-gradient(135deg, #F0FDF4 0%, #D1FAE5 100%); border: 3px solid #10B981; cursor: pointer; transition: transform 0.2s;" onclick="window.location.href='/admin/import-lessons'">
                <div style="display: flex; justify-content: space-between; align-items: center;">
                    <div>
                        <div style="font-size: 48px; margin-bottom: 10px;">ğŸ“–</div>
                        <h3 style="margin: 0 0 5px 0; color: #1F2937; font-size: 16px;">Ngá»¯ phÃ¡p</h3>
                        <p style="font-size: 32px; font-weight: 900; color: #10B981; margin: 0;">
                            <span th:text="${totalGrammar}">0</span>
                        </p>
                    </div>
                    <div style="font-size: 24px; color: #10B981;">â†’</div>
                </div>
            </div>

            <div class="panel" style="background: linear-gradient(135deg, #FEF3C7 0%, #FDE68A 100%); border: 3px solid #F59E0B; cursor: pointer; transition: transform 0.2s;" onclick="window.location.href='/admin/import-tests'">
                <div style="display: flex; justify-content: space-between; align-items: center;">
                    <div>
                        <div style="font-size: 48px; margin-bottom: 10px;">ğŸ“</div>
                        <h3 style="margin: 0 0 5px 0; color: #1F2937; font-size: 16px;">BÃ i kiá»ƒm tra</h3>
                        <p style="font-size: 32px; font-weight: 900; color: #F59E0B; margin: 0;">
                            <span th:text="${totalTests}">0</span>
                        </p>
                    </div>
                    <div style="font-size: 24px; color: #F59E0B;">â†’</div>
                </div>
            </div>

            <div class="panel" style="background: linear-gradient(135deg, #FCE7F3 0%, #FBCFE8 100%); border: 3px solid #EC4899;">
                <div style="font-size: 48px; margin-bottom: 10px;">ğŸ‘¥</div>
                <h3 style="margin: 0 0 5px 0; color: #1F2937; font-size: 16px;">NgÆ°á»i dÃ¹ng</h3>
                <p style="font-size: 32px; font-weight: 900; color: #EC4899; margin: 0;">
                    <span th:text="${totalUsers}">0</span>
                </p>
            </div>
        </div>

        <!-- Quick Actions -->
        <div class="panel" style="background: white; border-radius: 16px; box-shadow: 0 2px 8px rgba(0,0,0,0.1);">
            <h2 style="margin: 0 0 20px 0; color: #1F2937;">ğŸš€ Thao tÃ¡c nhanh</h2>
            <div style="display: grid; grid-template-columns: repeat(auto-fit, minmax(220px, 1fr)); gap: 20px;">
                <a th:href="@{/admin/import}" class="btn-main" style="text-decoration: none; text-align: center; padding: 24px; background: #8B5CF6; border-color: #8B5CF6; display: flex; flex-direction: column; align-items: center; gap: 10px;">
                    <div style="font-size: 40px;">ğŸ“¥</div>
                    <div style="font-weight: 700; font-size: 16px;">Import Dá»¯ liá»‡u</div>
                    <div style="font-size: 13px; opacity: 0.9;">Import tá»« vá»±ng ETS, táº¡o bÃ i há»c & quiz</div>
                </a>
                <a th:href="@{/admin/import-lessons}" class="btn-main" style="text-decoration: none; text-align: center; padding: 24px; background: #3B82F6; border-color: #3B82F6; display: flex; flex-direction: column; align-items: center; gap: 10px;">
                    <div style="font-size: 40px;">ğŸ“š</div>
                    <div style="font-weight: 700; font-size: 16px;">Import BÃ i há»c</div>
                    <div style="font-size: 13px; opacity: 0.9;">Upload JSON bÃ i há»c vÃ  ngá»¯ phÃ¡p</div>
                </a>
                <a th:href="@{/admin/import-tests}" class="btn-main" style="text-decoration: none; text-align: center; padding: 24px; background: #F59E0B; border-color: #F59E0B; display: flex; flex-direction: column; align-items: center; gap: 10px;">
                    <div style="font-size: 40px;">ğŸ“</div>
                    <div style="font-weight: 700; font-size: 16px;">Import BÃ i kiá»ƒm tra</div>
                    <div style="font-size: 13px; opacity: 0.9;">Upload JSON bÃ i kiá»ƒm tra vÃ  cÃ¢u há»i</div>
                </a>
                <a th:href="@{/admin/rewards}" class="btn-main" style="text-decoration: none; text-align: center; padding: 24px; background: #10B981; border-color: #10B981; display: flex; flex-direction: column; align-items: center; gap: 10px;">
                    <div style="font-size: 40px;">ğŸ</div>
                    <div style="font-weight: 700; font-size: 16px;">Quáº£n lÃ½ Pháº§n thÆ°á»Ÿng</div>
                    <div style="font-size: 13px; opacity: 0.9;">Táº·ng XP, Gems, Hearts</div>
                </a>
                <a th:href="@{/admin/vip-avatar}" class="btn-main" style="text-decoration: none; text-align: center; padding: 24px; background: #EC4899; border-color: #EC4899; display: flex; flex-direction: column; align-items: center; gap: 10px;">
                    <div style="font-size: 40px;">â­</div>
                    <div style="font-weight: 700; font-size: 16px;">Táº·ng Avatar VIP</div>
                    <div style="font-size: 13px; opacity: 0.9;">Táº·ng avatar Ä‘áº·c biá»‡t</div>
                </a>
                <form th:action="@{/admin/seed-data}" method="post" style="margin: 0;">
                    <button type="submit" class="btn-main" style="width: 100%; text-align: center; padding: 24px; background: #06B6D4; border-color: #06B6D4; display: flex; flex-direction: column; align-items: center; gap: 10px; cursor: pointer;">
                        <div style="font-size: 40px;">ğŸŒ±</div>
                        <div style="font-weight: 700; font-size: 16px;">Seed Dá»¯ liá»‡u Máº«u</div>
                        <div style="font-size: 13px; opacity: 0.9;">Táº¡o users, lessons, tests máº«u</div>
                    </button>
                </form>
            </div>
        </div>

        <!-- Success/Error Messages -->
        <div th:if="${success}" style="margin-top: 20px; padding: 16px; background: #D1FAE5; color: #065F46; border-radius: 8px; border: 2px solid #10B981;">
            <strong>âœ…</strong> <span th:text="${success}"></span>
        </div>
        <div th:if="${error}" style="margin-top: 20px; padding: 16px; background: #FEE2E2; color: #991B1B; border-radius: 8px; border: 2px solid #EF4444;">
            <strong>âš ï¸</strong> <span th:text="${error}"></span>
        </div>
    </main>
</div>
</body>
</html>

